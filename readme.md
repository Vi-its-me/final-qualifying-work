## Данный проект выполнен в рамках выпускной квалификационной работы
на тему *"Разработка аппаратно-программных средств подсистемы дистанционной идетнификации пользователей в мобильных объектах"*.

Устройство состоит из нескольких компонентов: *"Отправитель"*, *"Приемник"* и *"Устройство обработки данных"*.
Разработка зарегистрирована в качестве патента, сслыки на документы
представлены ниже:
[Государственная регистрация программы для ЭВМ](https://new.fips.ru/registers-doc-view/fips_servlet?DB=EVM&DocNumber=2024662941&TypeFile=html)
[Государственная регистрация базы данных](https://new.fips.ru/registers-doc-view/fips_servlet?DB=DB&DocNumber=2024622257&TypeFile=html)
> Ещё есть свидетельства на регистрацию ПрЭВМ и БД в .pdf, ссылок на них пока что нет

###### Устройство работает по следующему алгоритму:
файл main.ino
```c++
int signal_amount_array[10] = {0,0,0,0,0,0,0,0,0,0};
class sendClass
{
public:
	int to_second_point_packets_array[10] = {0,0,0,0,0,0,0,0,0,0};
	int processing_time[10] = {0,0,0,0,0,0,0,0,0,0};
};
```
"Отправитель" объявляет массив нулей, который хранит информацию о состоянии данных(to_second_point_packets_array), время обработки данных(processing_time) и уровень сигнала(signal_amount_array).
После чего в цикле инициализирует отправку, находит в массиве состояния данных первый "0", на место которого помещает "1", что соответствует состоянию отправленного, но еще не принятого пакета, и выполняет отправку на "Приемник", фиксирует уровень сигнала, время его получения и останавливается на кол-во миллисекунд, указанной в переменной delay_time.
В случае нахождения в массиве состояния "2", происходит подсчет времени выполнения
```c++
send_instance.processing_time[i] = micros() -
send_instance.processing_time[i] - (interval + delay_time) * 1000;
```
После чего записывает на её место "3", что соответствует состоянию отправленного и принятого пакета.
Так же, выполняется обработка ошибок. В случае, если в процессе итерации цикла программа "наткнулась" на "0", а перед ним в массиве найдена "1" или "2", на их место записывается "4", что говорит о неправильно принятых данных.
В случае, если все пакеты приняты, запускается цикл для печати в порт Serial массивов, хранящих результаты уровня и времени прохождения сигнала.

Работа "Приемника" заключается в инициализации себя приемником, приеме пакетов от "Отправителя" и при нахождении в массиве состояния "1", записывает на его место "2", инициализирует себя отправителем и осуществляет отправку пакета "Отправителю".

Работа "Устройства обработки данных" заключается в:
1. Открытии порта Serial
2. Получении и подсчета значений, полученных из порта Serial по формулам
3. Заполнении и стилизации Excel-таблицы данными
4. Экспорте .xlsx файла в папку с проектом

### В результате имеем информацию о:
- Номере замера(в серии из десяти)
- Уровне сигнала(dBm)
- Времени прохождения сигнала(μs)
- Расстоянии от уровня сигнала(m)
- Модальном значении уровня сигнала среди подсчета для каждого замера из серии замеров(m)
- Погрешности измерения(%)
- Фактического расстояния(m)

Блок-схемы программного кода представлены ниже:
![Отправитель_А](/flowcharts/TRANSMIT_A.png "Отправитель_А")
![Отправитель_Б](/flowcharts/TRANSMIT_B.png "Отправитель_Б")
![Приемник](/flowcharts/RECEIVE.png "Приемник")
![Устройство обработки данных_А](/flowcharts/serial_to_excel_A.png "Устройство обработки данных_А")
![Устройство обработки данных_Б](/flowcharts/serial_to_excel_B.png "Устройство обработки данных_Б")
